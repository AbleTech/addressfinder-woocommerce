{"version":3,"sources":["webpack:///webpack/bootstrap e0490cd49081c330dd4d","webpack:///./src/main.js","webpack:///./src/woocommerce_plugin.js"],"names":["window","AF","WooCommercePlugin","_initPlugin","safeParseJSONObject","jsonObject","undefined","JSON","parse","e","AFC","debug","alert","parsedWidgetOptions","AddressFinderConfig","widgetOptions","parsedNZWidgetOptions","nzWidgetOptions","parsedAUWidgetOptions","auWidgetOptions","_plugin","nzKey","key_nz","key","key_au","auKey","s","document","createElement","src","async","onload","body","appendChild","widgetConfig","version","widgets","panelPrefix","countryCodes","$","jQuery","initialisePlugin","widget","_getPosition","coords","element","offset","top","outerHeight","countryElement","boundCountryChangedListener","_countryChangeHandler","bind","addEventListener","nullWidget","enable","disable","on","nz","AddressFinder","Widget","getElementById","selectNewZealand","prefix","au","selectAustralia","event","preserveValues","activeCountry","val","_setActiveCountry","isInactiveCountry","countryCode","filter","forEach","_clearElementValues","widgetCountryCode","getWidgetPostion","field","fields","i","length","checkFieldPresent","value","_setStateValue","address","metaData","address_line_2","_setElementValue","address_line_1","combinedAddressLine1And2","locality_name","state_territory","postcode","fullAddress","selected","NZSelectedAddress","address_line_1_and_2","suburb","city","region","elementId","errorMessage","console","log","region_code","options","checkOptionMatchesValue","option","selectedOption","Array","prototype","find","call","select2","trigger","bindToAddressPanel"],"mappings":"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","file":"addressfinder.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e0490cd49081c330dd4d","import WooCommercePlugin from './woocommerce_plugin'\n\nwindow.AF = window.AF || {}\nwindow.AF.WooCommercePlugin = WooCommercePlugin\n\nlet _initPlugin = function(){\n\n  var safeParseJSONObject = function(jsonObject) {\n    if(jsonObject == undefined){\n      return null;\n    }\n\n    try {\n      jsonObject = JSON.parse(jsonObject);\n    } catch (e) {\n      if (AFC.debug) {\n        alert('Invalid widget option: ' + jsonObject);\n      }\n\n      return null;\n    }\n\n    return jsonObject;\n  };\n\n  var parsedWidgetOptions = safeParseJSONObject(window.AddressFinderConfig.widgetOptions);\n  var parsedNZWidgetOptions = safeParseJSONObject(window.AddressFinderConfig.nzWidgetOptions);\n  var parsedAUWidgetOptions = safeParseJSONObject(window.AddressFinderConfig.auWidgetOptions);\n\n  window.AF._plugin = new AF.WooCommercePlugin({\n    nzKey: window.AddressFinderConfig.key_nz || window.AddressFinderConfig.key || window.AddressFinderConfig.key_au,\n    auKey: window.AddressFinderConfig.key_au || window.AddressFinderConfig.key || window.AddressFinderConfig.key_nz,\n    nzWidgetOptions: parsedNZWidgetOptions || parsedWidgetOptions || {},\n    auWidgetOptions: parsedAUWidgetOptions || parsedWidgetOptions || {},\n    debug: window.AddressFinderConfig.debug || true\n  })\n}\n\nlet s = document.createElement('script')\ns.src = 'https://api.addressfinder.io/assets/v3/widget.js'\ns.async = 1\ns.onload = _initPlugin\ndocument.body.appendChild(s)\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// The AddressFinder plugin for WooCommerce adds an autocomplete capability to the\n// delivery and billing address fields of your online store.\n//\n// https://wordpress.org/plugins/addressfinder-woo/\n//\n// VERSION: 1.1.2\nexport default class WooCommercePlugin {\n  constructor(widgetConfig) {\n    this.version = \"1.2.8\"\n    this.widgetConfig = widgetConfig\n    this.widgets = {}\n    this.panelPrefix = ''\n    this.countryCodes = ['nz', 'au']\n    $ = window.jQuery\n\n    this.initialisePlugin()\n  }\n\n  getWidgetPostion(widget) {\n    widget._getPosition = function(){\n      var coords = $(this.element).offset();\n      coords.top += $(this.element).outerHeight();\n      return coords;\n    };\n  }\n\n  bindToAddressPanel(panelPrefix){\n\n    var countryElement = $('#' + panelPrefix + 'country');\n    this.panelPrefix = panelPrefix\n\n    // Sometimes there is no countryElement. Not calling the changeHandler means\n    // that it can remain enabled.\n    if(countryElement[0]){\n      this.boundCountryChangedListener = this._countryChangeHandler.bind(this) // save this so we can unbind in the destroy() method\n      countryElement[0].addEventListener(\"change\", this.boundCountryChangedListener);\n    }\n\n    this.widgets.nullWidget = {\n      enable: function() { },\n      disable: function() { },\n      on: function() { }\n    };\n\n    this.widgets.nz = new window.AddressFinder.Widget(document.getElementById(panelPrefix + 'address_1'), this.widgetConfig.nzKey, 'nz', this.widgetConfig.nzWidgetOptions)\n    this.widgets.nz.on('result:select', this.selectNewZealand.bind(this));\n    this.widgets.nz.prefix = panelPrefix;\n\n    this.widgets.au = new window.AddressFinder.Widget(document.getElementById(panelPrefix + 'address_1'), this.widgetConfig.auKey, 'au', this.widgetConfig.auWidgetOptions);\n    this.widgets.au.on('result:select', this.selectAustralia.bind(this));\n    this.widgets.au.prefix = panelPrefix;\n\n    this._countryChangeHandler(null, false);\n  }\n\n  _countryChangeHandler(event, preserveValues){\n    var activeCountry;\n    switch ($('#' + this.panelPrefix + 'country').val()) {\n      case 'NZ':\n      activeCountry = \"nz\"\n      break;\n    case 'AU':\n      activeCountry = \"au\"\n      break;\n    default:\n      activeCountry = \"null\";\n    }\n\n    this._setActiveCountry(activeCountry)\n    if(!preserveValues) {\n      const isInactiveCountry = countryCode => countryCode != activeCountry\n      this.countryCodes.filter(isInactiveCountry).forEach(this._clearElementValues(this.panelPrefix))\n    }\n}\n\n  _setActiveCountry(countryCode){\n    for (var widgetCountryCode in this.widgets) {\n      this.widgets[widgetCountryCode].disable()\n    }\n    this.widgets[countryCode].enable()\n    this.getWidgetPostion(this.widgets[countryCode])\n}\n\n  checkFieldPresent(prefix, field) {\n    return !!document.getElementById(prefix + field);\n  };\n\n  _clearElementValues(prefix) {\n    var fields = [\n      'address_1',\n      'address_2',\n      'city',\n      'postcode'\n    ];\n\n    for (var i = 0; i < fields.length; i++) {\n      if (this.checkFieldPresent(prefix, fields[i])) {\n        document.getElementById(prefix + fields[i]).value = '';\n      }\n    }\n    this._setStateValue(prefix + 'state', null)\n  };\n\n  selectAustralia(address, metaData) {\n    var prefix = this.widgets.au.prefix\n\n    // Set fields to new values\n    if (metaData.address_line_2 != null) {\n      if (this.checkFieldPresent(prefix, 'address_2')) {\n        this._setElementValue(prefix + 'address_1', metaData.address_line_1);\n        this._setElementValue(prefix + 'address_2', metaData.address_line_2);\n      } else {\n        var combinedAddressLine1And2 = metaData.address_line_1 + ', ' + metaData.address_line_2;\n        this._setElementValue(prefix + 'address_1', combinedAddressLine1And2);\n      }\n    } else {\n      this._setElementValue(prefix + 'address_1', metaData.address_line_1);\n      this._setElementValue(prefix + 'address_2', '');\n    }\n\n    this._setElementValue(prefix + 'city', metaData.locality_name || '');\n\n    this._setStateValue(prefix + 'state', metaData.state_territory);\n    this._setElementValue(prefix + 'postcode', metaData.postcode);\n  };\n\n\n  selectNewZealand(fullAddress, metaData) {\n    var prefix = this.widgets.nz.prefix;\n    let selected = new AddressFinder.NZSelectedAddress(fullAddress, metaData);\n    this._setElementValue(prefix + 'address_1', selected.address_line_1_and_2())\n    this._setElementValue(prefix + 'address_2', selected.suburb())\n    this._setElementValue(prefix +'city', selected.city())\n    this._setElementValue(prefix + 'postcode', selected.postcode())\n    this._setStateValue(prefix + 'state', metaData.region);\n  }\n\n\n  _setElementValue(elementId, value){\n    var element = document.getElementById(elementId)\n    if (element) {\n      element.value = value;\n      return;\n    }\n\n    var errorMessage = 'AddressFinder Error - unable to find an element with id: ' + elementId;\n\n    if (true) {\n      alert(errorMessage);\n      return;\n    }\n\n    if (window.console) {\n      window.console.log(errorMessage);\n    }\n  }\n\n  _setStateValue(elementId, value) {\n    var element = document.getElementById(elementId)\n    if (element) {\n\n      var region_code = {\n        'Auckland Region': 'AK',\n        'Bay Of Plenty Region': 'BP',\n        'Canterbury Region': 'CT',\n        'Gisborne Region': 'GI',\n        'Hawke\\'s Bay Region': 'HB',\n        'Manawatu-Wanganui Region': 'MW',\n        'Marlborough Region': 'MB',\n        'Nelson Region': 'NS',\n        'Northland Region': 'NL',\n        'Otago Region': 'OT',\n        'Southland Region': 'SL',\n        'Taranaki Region': 'TK',\n        'Tasman Region': 'TM',\n        'Waikato Region': 'WA',\n        'Wellington Region': 'WE',\n        'West Coast Region': 'WC',\n        'No Region (Chatham Islands)': null\n      }\n\n      if (element.options) {\n        console.log(element)\n        const checkOptionMatchesValue = option => option.value == region_code[value] ? region_code[value] : ''\n        const selectedOption = Array.prototype.find.call(element.options, checkOptionMatchesValue)\n        console.\n        $(element).select2().val(selectedOption.value).trigger('change');\n        return\n      }\n    }\n  }\n\n    /* clear address fields */\n    // clearFields(prefix);\n\n    /* split and trim */\n  //   var address = metaData.postal || metaData.a;\n  //   var addressLines = address.split(',');\n  //   for(var i=0; i<addressLines.length; i++){\n  //     addressLines[i] = addressLines[i].replace(/^\\s+|\\s+$/g,'');\n  //   }\n  //\n  //   /* remove City/Postcode */\n  //   var city = metaData.mailtown || metaData.city;\n  //   if(addressLines[addressLines.length-1] == city + ' ' + metaData.postcode){\n  //     addressLines.pop();\n  //     this.setFieldValue(prefix + 'city', city);\n  //     this.setFieldValue(prefix + 'postcode', metaData.postcode);\n  //   }\n  //\n  //   /* set address2 */\n  //   if(addressLines.length > 1 && checkFieldPresent(prefix, 'address_2')){\n  //     this.setFieldValue(prefix + 'address_2', addressLines.pop());\n  //   }\n  //   else {\n  //     this.setFieldValue(prefix + 'address_2', '');\n  //   }\n  //\n  //   /* set address1 */\n  //   this.setFieldValue(prefix + 'address_1', addressLines.join(', '));\n  //\n  //   this.selectState(prefix, region_code);\n  // };\n  initialisePlugin(){\n    if (document.getElementById('billing_address_1')){\n      this.bindToAddressPanel('billing_');\n      return;\n    }\n\n    if (document.getElementById('shipping_address_1')){\n      this.bindToAddressPanel('shipping_');\n    }\n  };\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/woocommerce_plugin.js"],"sourceRoot":""}