(function(e,n){var a=function(n,a,i,t,s){var o=new window.AddressFinder.Widget(document.getElementById(n+"address_1"),a,i,s);o.on("result:select",t);o._getPosition=function(){var n=e(this.element).offset();n.top+=e(this.element).outerHeight();return n};return o};var i=function(i){var t={enable:function(){},disable:function(){},on:function(){}};var o={};if(n["key_nz"]){o.nz=a(i,n["key_nz"],"nz",d,n["widget_options"])}else{o.nz=t}if(n["key_au"]){o.au=a(i,n["key_au"],"au",r,n["widget_options"]);o.au.prefix=i}else{o.au=t}o.nz.prefix=i;o.au.prefix=i;var l=function(n){if(e(this).val()=="NZ"){o.nz.enable()}else{o.nz.disable()}if(e(this).val()=="AU"){o.au.enable()}else{o.au.disable()}n=n===undefined?true:n;if(n){s(o.au.prefix)}};var u=e("#"+i+"country");if(u[0]){u.change(l);l.bind(u)(false)}};var t=function(e,n){return!!document.getElementById(e+n)};var s=function(e){var n=["address_1","address_2","city","postcode"];for(var a=0;a<n.length;a++){if(t(e,n[a])){document.getElementById(e+n[a]).value=""}}o(e,null)};var o=function(n,a){var i=e("select#"+n+"state");if(i.length>0){e(i).select2().val(a).trigger("change")}else{l(n+"state",a)}};var d=function(e,n){var a=this.prefix;var i=n.postal||n.a;var s=i.split(",");for(var d=0;d<s.length;d++){s[d]=s[d].replace(/^\s+|\s+$/g,"")}var r=n.mailtown||n.city;if(s[s.length-1]==r+" "+n.postcode){s.pop();l(a+"city",r);l(a+"postcode",n.postcode)}if(s.length>1&&t(a,"address_2")){l(a+"address_2",s.pop())}else{l(a+"address_2","")}l(a+"address_1",s.join(", "));var u={"Auckland Region":"AK","Bay Of Plenty Region":"BP","Canterbury Region":"CT","Gisborne Region":"GI","Hawke's Bay Region":"HB","Manawatu-Wanganui Region":"MW","Marlborough Region":"MB","Nelson Region":"NS","Northland Region":"NL","Otago Region":"OT","Southland Region":"SL","Taranaki Region":"TK","Tasman Region":"TM","Waikato Region":"WA","Wellington Region":"WE","West Coast Region":"WC","No Region (Chatham Islands)":null}[n.region];o(a,u)};var r=function(e,n){var a=this.prefix;if(n.address_line_2!=null){if(t(a,"address_2")){l(a+"address_1",n.address_line_1);l(a+"address_2",n.address_line_2)}else{var i=n.address_line_1+", "+n.address_line_2;l(a+"address_1",i)}}else{l(a+"address_1",n.address_line_1);l(a+"address_2","")}l(a+"city",n.locality_name||"");o(a,n.state_territory);l(a+"postcode",n.postcode)};var l=function(e,a){var i=document.getElementById(e);if(i){i.value=a;return}var t="AddressFinder Error - unable to find an element with id: "+e;if(n.debug){alert(t);return}if(window.console){window.console.log(t)}};var u=function(){if(document.getElementById("billing_address_1")){i("billing_")}if(document.getElementById("shipping_address_1")){i("shipping_")}};e(document).ready(function(){var e=document.createElement("script");e.src="https://api.addressfinder.io/assets/v3/widget.js";e.onreadystatechange=function(){if(e.readyState==="complete"||e.readyState==="loaded"){u()}};e.onload=u;document.body.appendChild(e)})})(window.jQuery,window.AddressFinderConfig);